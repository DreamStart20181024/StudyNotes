变量的定义  
====

## <b> 查看当前环境变量:</b>   <b> `env` </b>  
`env | grep '需要过滤的环境变量名'` &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 通过grep来过滤需要的环境变量   
## 1.什么是变量？  

 一句话概括：变量是用来临时保存数据的，该数据是可以变化的数据。  

## 2.什么时候需要定义变量？  
- 如果某个内容需要多次使用，并且在代码中重复出现，那么可以用变量代表该内容。这样在修改内容的时候，仅仅需要修改变量的值。  
- 在代码运作过程中，可能会把某些命令的执行结果保存起来，后续代码需要使用这些结果，就可以直接使用这个变量。  


## 3.变量如何定义？  

- 变量名=变量值  
```  
[root@MissHou]# A=Hello  #变量名=变量值 定义一个变量  
[root@MissHou]# echo $A   #输出A变量的值  
Hello  
[root@MissHou]# A=123456   #重新给A变量赋值  
[root@MissHou]# echo $A    #输出新的A的值  
123456    
[root@MissHou]# echo ${A}   #输出A的值  
123456  
[root@MissHou]# unset A      #销毁变量  
[root@MissHou]# echo $A     #无输出  

```  


## 4.变量的定义规则  

- 虽然可以给变量（变量名）赋予任何值；但是，对于变量名也是有要求的。  

#### 1.变量名区分大小写；变量名尽量使用大写。  
#### 2.变量名不能有特殊字符;变量值有空格时需要使用单引号或双引号包起来。    
#### 3.变量名不能以数字开头。  
#### 4.等号两边不能有任何的空格。（重点注意）   
#### 5.变量名尽量做到见名之意。  


## 5.变量的定义方式有哪些？  

#### 1.基本方式  
  直接赋值给一个变量  
  ```  
  [root@MissHou]# A=123456
  [root@MissHou]# echo $A  
  123456  
  [root@MissHou]# echo ${A:2:3}   #表示从A变量中第三个字符开始截取，截取3个字符  
  345  

  ```

### 2.将命令的结果赋值给变量；先执行命令，在赋值给变量。  
  `` 
  ` 命令`  或者  $(命令) 
  ``  

  查看系统内核版本  
  `$(uname -r)`  

### 3.交互式定义变量（read)  

<b>目的</b> ：让用户自己给变量赋值，比较灵活。  
<b>语法</b> ：`rand  [选项]  变量名`  

<b>常见选项</b> 
|选项 | 释义|  
|:--:|:--|  
| -p | 定义提示用户的信息|  
|-n |定义字符数（限制变量的长度）|  
|-s | 不显示（不显示用户输入的内容）|  
|-t |定义超时时间，默认单位为秒（限制用户输入变量值的超时时间）|  

#### 举例说明：  
```
用法1：用户自己定义变量值  
[root@MissHou]# read name  
harry  
[root@MissHou]# echo $name  
harry
[root@MissHou]# read -p "Input your name:" name  
Input your name: tom  
[root@MissHou]# echo $name  
tom  

用法2：变量值来自文件  
[root@MissHou]# cat 1.txt  #创建一个文件，第一行写点内容，中间以空格分割。
10.1.1.11 225.225.225.0  

[root@MissHou]# read -p "Input your IP and Netmask:" ip mask < 1.txt #以空格为分割符，讲这个文件分成两个变量   
[root@MissHou]# echo $ip  
10.1.1.11  
[root@MissHou]# echo $mask  
225.225.225.0  
```


### 四、定义有类型的变量（declare）  
<b> 目的： </b>给变量做一些限制，固定变量类型，比如：整形、只读    
<b> 用法： </b>`declare [选项] 变量名=变量值`    
#### 常用选项：  
|选项|释义|举例|  
|--:|:--|:--|  
|-i | 将变量看成整数|declare -i A=123|  
|-r |定义只读变量 | declare -r B=hello|  
|-a |定义普通数组；查看普通数组 |  |  
|-A |定义关联数组；查看关联数组 |  |
|-x |将变量通过环境导出 | declare -x AAA=123456 等于 export AAA=123456  |  

##### 用例：`参考文件 declare.sh`


## 六、变量的分类  
### 1、本地变量  
-     <b>本地变量:</b>当前用户定义的变量。只能在当前进程中有效，其他进程及当前进程的子进程无效。  
      `ps #查看当前进程`  
      `ps auxf | grep bash(需要过滤的进程名) #查看子进程`  
      本地变量：变量名=变量值 本地变量（只针对当前进程生效）  
### 2、环境变量  
-    <b>环境变量:</b>当前进程有效，并且能够被<b>子进程</b>调用。  
-             `env`查看当前用户的环境变量。  
+             `set`查询当前用户的所有变量（临时变量与环境变量）  
+              `export 变量名=变量值`或者`变量名=变量值；export 变量名`  

## 总结：  

##### 1、使用变量：
          - `echo $变量名`  
          - `echo ${变量名}`  使用{}包起来的可以拆分字符串。 
          - 重置变量 `unset 变量名`  
##### 2、""与''的区别  
        - ""中可以引用变量；''中全部都只是字符串。  
        - ""与''可以作为一个整体使用  

##### 3、通配符：  
- \* :可以匹配一个或多个字符。  
- ？：可以匹配一个字符。  
- \[a-z\]:可以匹配a-z之间的单个字符；包括a、z。  
- {string,int,boolear}：匹配括号里面的字符串。  
- {1..100} : 配置1~100的序列。  
##### 4、Shell是个什么？  
  
  <b>脚本名字:</b>  xxx.sh  
  <b>脚本内容:</b>  
-  1）定义解释器  #!/bin/bash  通用型解释器 #!/bin/env bash  
-  2)注释说明  
-  3）程序本身（定义变量 + 命令 + 基本语法 + 思想） ---> 完成任务  

<b>脚本的执行方式:</b>
-   1）标准执行方式（脚本必须要有可执行权限 绝对路径或者相对路径。、）  
-   2）非标准执行方式：  
- 解释器 脚本文件.sh  是否有错误
- 解释器 -n 脚本文件.sh #检查脚本语法是否有错误  
- 解释器 -x 脚本文件.sh #查看脚本执行过程  
- source 脚本文件.sh  


